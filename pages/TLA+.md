- TLA+的底层基本抽象
	- An execution of a system is represented as a sequence of discrete steps
		- 一个系统的执行被表示为一系列离散的步骤
		- sequence
		- discrete
			- Digital system
				- We can abstract its continuous evolution as a sequence of discrete events
					- 我们可以把它的 连续演变 抽象为一系列 离散事件
		- step
			- TLA+ describe a step as a state change
				- 状态变化
				- An execution is represented as a sequence of states
				- A step is the change from one state to the next
			- Science models systems by a state changing with time, usually continuously
				- 科学通过一种随时间变化的状态(通常是连续的)来模拟系统
			- As in science, TLA+ describes a state as an assignment of values to variables
				- 在科学中，TLA+将状态描述为对变量赋值
- 状态机（state machine）
	- An execution of a system is represented as a behavior
	- A behavior is a sequence of states
	- We want to specify all possible of a system
	- State Machine
		- A state machine is described by
			-
			  1. All possible initial states
			-
			  2. What next states can follow any given state
		- It halts if there is no possible next state.
		- A state is an assignment of values to variables, so a state machine is described by
			-
			  0. What the variables are.
				- 变量是什么
			-
			  1. Possible initial values of variables.
				- 变量可能的初始值。
			-
			  2. A relation between their values in the current state and their possible values in the next state
				- 它们在当前状态下的值与它们在下一状态下可能的值之间的关系
	- State machine are simpler than programs
		- In a state machine, all part of the state are represented as value of variables
			- 在状态机中，状态的所有部分都表示为变量的值
		- In programs, different parts of the state are represented differently
			- example
				- The value of variables
				- The control state
				- The call stack
				- The heap
				- ...
			- They are represented differently because they are implemented differently
				- State machine eliminate those low-level implementation details
					- They provide a single simple abstraction
	- TLA+ is an elegant, expressive language for describing state machine.
- Describing a state machine with math (用数学描述状态机)
	- 演进
		- ![image.png](../assets/image_1654529341200_0.png){:height 274, :width 397}
		- ![image.png](../assets/image_1654529370480_0.png)
		- ![image.png](../assets/image_1654529400161_0.png){:height 322, :width 378}
		- ![image.png](../assets/image_1654529474705_0.png){:height 299, :width 502}
		- ![image.png](../assets/image_1654529556431_0.png){:height 365, :width 391}
		- ![image.png](../assets/image_1654529592063_0.png){:height 336, :width 393}
		- ![image.png](../assets/image_1654529639541_0.png)
			- The big difference between math and C :
				- Math is much more expressive
				- Programming languages weren't designed to express nondeterminism (编程语言不是为了表达非确定性而设计的)
					- They lack more than constructs for nondeterminism
						- 他们缺乏的不仅仅是对非确定性的构想
					- Programming languages don't abstract above the code level
						- 他们不会在代码层之上进行抽象
	- 记住转换后的这个是数学公式（formula），符合交换律等数学性质
		- ![image.png](../assets/image_1654529983447_0.png)
		- ![image.png](../assets/image_1654530003980_0.png)
	- TLA+ 完整例子
		- ![image.png](../assets/image_1654530134394_0.png)
		- ![image.png](../assets/image_1654530152962_0.png)
- Decomposing large specs
	- Using definitions（通过定义，来模块化，减少specs理解成本）
		- ![image.png](../assets/image_1654530220178_0.png)
		- ![image.png](../assets/image_1654530284057_0.png)
- Why Does TLC Report Deadlock
	- Deadlock
		- Execution stopped when it wasn't supposed to.
	- Termination
		- Execution stopped when it was supposed to.
- The TLA+ proof system
	- TLA+ has constructs for writing theorems and formal proofs of those theorems.
		- TLA+构造了定理和这些定理的形式证明。
	- TLAPS