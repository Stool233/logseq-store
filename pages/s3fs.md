- http://gaul.org/talks/s3fs-tradeoffs/#3
- Why use an S3 file system
	- Need some degree of POSIX application compatibility（需要一定程度的POSIX应用程序兼容性）
		- Interoperate with both cloud-native and legacy applications
	- Store TBs or PBs of data cheaply with good sequential performance (以较低的成本存储TBs或PBs的数据，具有良好的顺序性能)
		- Archival, analytics, and machine learning
	- Lightweight network file system（轻量级网络文件系统）
		- Personal computer or Raspberry Pi
- Trade-offs -- pick two
	- POSIX、Native Object access、Fast
		- ![image.png](../assets/image_1668592301339_0.png){:height 369, :width 423}
- FUSE
	- Filesystem in Userspace
	- Allows non-kernel file system implementations（允许非内核文件系统实现）
	- Maps POSIX system calls to FUSE operations
		- ssize_t write(int fd, void *buf, size_t count)
	- Wide variety: btfs, dbxfs, sshfs, and hundreds more
- S3
	- Amazon Simple Storage Service
	- The most popular object storage protocol
	- Object storage offers scale-out performance and lower costs
	- Many implementations: AWS, Backblaze, Ceph, GCS, Minio, and OpenStack Swift
	- Wide variety of applications and SDKs
- Comparing POSIX and S3 APIs
	- POSIX has stateful files while S3 has stateless objects
		- ![image.png](../assets/image_1668592468167_0.png){:height 325, :width 319}
			- lseek: 用于显式地为一个已打开的文件设置其偏移量
				- S3没有lseek主要意味着追加写入操作比较难实现。而对于读取，则可以由GetObject带上Range: bytes=KK-NN来实现偏移量读取，不过偏移量也需要自己维护。
- s3fs
	- One of the earliest S3 file systems
	- Focus on native S3 object interoperability and POSIX compatibility（关注本地S3对象互操作性和POSIX兼容性）
		- Lacks atomic renames and hard links（缺乏原子重命名和硬链接）
	- Multiple clients can mount a bucket although caching delays updates（多个客户端可以挂载同一个桶，尽管缓存会延迟更新）
	- Lots of configuration knobs (too many?)
	- Many distribution packages: Debian, Red Hat, Ubuntu, FreeBSD, and macOS
	-